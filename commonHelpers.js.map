{"version":3,"file":"commonHelpers.js","sources":["../src/main.js"],"sourcesContent":["import iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nimport SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\n\n\nconst galleryWrapperEl= document.querySelector('.gallery')\nconst inputValue = document.querySelector('.search-form');\nconst loader = document.querySelector('.loader')\nconst search = document.querySelector('.search')\nconsole.log(search);\n\nconst BASE_URL = 'https://pixabay.com/api/'\nconst API_KEY = '41296916-da04ab2f63441e92262fae4bb'\n\ninputValue.addEventListener('submit', onSerch)\n\n\nfunction changeTitleOnBtn() {\n  search.classList.add('loader')\n  search.textContent = '';\n};\n\n\nfunction removeClassOnBtn() {\n  search.classList.remove('loader')\n  search.textContent = 'Search';\n};\n\n\n\nfunction onSerch(event) {\n    event.preventDefault(); \n    changeTitleOnBtn()\n  \n    const form = event.currentTarget;\n    const searchQuery = form.elements.query.value;\n\n    fetchPicture(searchQuery)\n      .then(renderCard)\n      .catch(error => console.log('error'))\n      .finally(() => form.reset()).then(() => removeClassOnBtn())\n\n};\n \nfunction fetchPicture(search) { \n  return fetch(`${BASE_URL}?key=${API_KEY}&q=${search}&image_type=photo&orientation=horizontal&safesearch=true`)\n    .then((response) => {\n      return response.json()\n    })\n    .catch(error => {\n      console.log('error');\n    });\n        \n};\n\nfunction renderCard(picture) { \n  \n  const respHits = picture.hits;\n  if (respHits.length === 0) {\n    onWarning()\n  } else {\n  const murkup = createMarkup(picture.hits)\n  galleryWrapperEl.innerHTML = murkup;}\n  \n  lightbox = new SimpleLightbox('.gallery a', {\n    captions: true,\n    captionsData: 'alt',\n    captionPosition: 'bottom',\n    captionDelay: 250,\n  });\n         \n};\n\n function createMarkup(arr) {\n    return arr\n      .map(\n        ({\n          webformatURL,\n          largeImageURL,\n          tags,\n          likes,\n          views,\n          comments,\n          downloads,\n        }) => {\n          return `\n          <div class=\"photo-card .shadow-drop-2-center\">\n              <a class=\"gallery__link\" href=\"${largeImageURL}\">\n                <img src=\"${webformatURL}\" alt=\"${tags}\" loading=\"lazy\" />\n              </a>\n              <div class=\"info\">\n                <p class=\"info-item\">\n                  <b>Likes: ${likes}</b>\n                </p>\n                <p class=\"info-item\">\n                  <b>Views: ${views}</b>\n                </p>\n                <p class=\"info-item\">\n                  <b>Comments: ${comments}</b>\n                </p>\n                <p class=\"info-item\">\n                  <b>Downloads: ${downloads}</b>\n                </p>\n              </div>\n            </div>`;\n        }\n      )\n      .join('');\n};\n\nfunction onWarning() {\n    iziToast.warning({\n    title: 'Caution',\n    message: \"Sorry, there are no images matching your search query. Please try again!\",\n});\n};\n"],"names":["galleryWrapperEl","inputValue","search","BASE_URL","API_KEY","onSerch","changeTitleOnBtn","removeClassOnBtn","event","form","searchQuery","fetchPicture","renderCard","error","response","picture","onWarning","murkup","createMarkup","SimpleLightbox","arr","webformatURL","largeImageURL","tags","likes","views","comments","downloads","iziToast"],"mappings":"6vBAOA,MAAMA,EAAkB,SAAS,cAAc,UAAU,EACnDC,EAAa,SAAS,cAAc,cAAc,EACzC,SAAS,cAAc,SAAS,EAC/C,MAAMC,EAAS,SAAS,cAAc,SAAS,EAC/C,QAAQ,IAAIA,CAAM,EAElB,MAAMC,EAAW,2BACXC,EAAU,qCAEhBH,EAAW,iBAAiB,SAAUI,CAAO,EAG7C,SAASC,GAAmB,CAC1BJ,EAAO,UAAU,IAAI,QAAQ,EAC7BA,EAAO,YAAc,EACvB,CAGA,SAASK,GAAmB,CAC1BL,EAAO,UAAU,OAAO,QAAQ,EAChCA,EAAO,YAAc,QACvB,CAIA,SAASG,EAAQG,EAAO,CACpBA,EAAM,eAAc,EACpBF,EAAkB,EAElB,MAAMG,EAAOD,EAAM,cACbE,EAAcD,EAAK,SAAS,MAAM,MAExCE,EAAaD,CAAW,EACrB,KAAKE,CAAU,EACf,MAAMC,GAAS,QAAQ,IAAI,OAAO,CAAC,EACnC,QAAQ,IAAMJ,EAAK,MAAK,CAAE,EAAE,KAAK,IAAMF,GAAkB,CAEhE,CAEA,SAASI,EAAaT,EAAQ,CAC5B,OAAO,MAAM,GAAGC,SAAgBC,OAAaF,2DAAgE,EAC1G,KAAMY,GACEA,EAAS,KAAM,CACvB,EACA,MAAMD,GAAS,CACd,QAAQ,IAAI,OAAO,CACzB,CAAK,CAEL,CAEA,SAASD,EAAWG,EAAS,CAG3B,GADiBA,EAAQ,KACZ,SAAW,EACtBC,EAAW,MACN,CACP,MAAMC,EAASC,EAAaH,EAAQ,IAAI,EACxCf,EAAiB,UAAYiB,CAAO,CAEpC,SAAW,IAAIE,EAAe,aAAc,CAC1C,SAAU,GACV,aAAc,MACd,gBAAiB,SACjB,aAAc,GAClB,CAAG,CAEH,CAEC,SAASD,EAAaE,EAAK,CACxB,OAAOA,EACJ,IACC,CAAC,CACC,aAAAC,EACA,cAAAC,EACA,KAAAC,EACA,MAAAC,EACA,MAAAC,EACA,SAAAC,EACA,UAAAC,CACV,IACiB;AAAA;AAAA,+CAE8BL;AAAA,4BACnBD,WAAsBE;AAAA;AAAA;AAAA;AAAA,8BAIpBC;AAAA;AAAA;AAAA,8BAGAC;AAAA;AAAA;AAAA,iCAGGC;AAAA;AAAA;AAAA,kCAGCC;AAAA;AAAA;AAAA,mBAK3B,EACA,KAAK,EAAE,CACd,CAEA,SAASX,GAAY,CACjBY,EAAS,QAAQ,CACjB,MAAO,UACP,QAAS,0EACb,CAAC,CACD"}